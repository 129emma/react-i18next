!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t(e.ReactI18next={},e.React)}(this,function(e,t){"use strict";var n="default"in t?t.default:t;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(...e){console&&console.warn&&("string"==typeof e[0]&&(e[0]=`react-i18next:: ${e[0]}`),console.warn.apply(null,e))}const p={};function c(...e){"string"==typeof e[0]&&p[e[0]]||("string"==typeof e[0]&&(p[e[0]]=new Date),a(...e))}let l=!1,u=!1;function f(e,t){!u&&e.initialI18nStore&&(e.i18n.services.resourceStore.data=e.initialI18nStore,t&&(e.i18n.options.isInitialSSR=!0),e.i18nOptions&&(e.i18nOptions.wait=!1),u=!0),!l&&e.initialLanguage&&(e.i18n.changeLanguage(e.initialLanguage),l=!0)}const d=Object.entries||function(e){const t=Object.keys(e);let n=t.length;const r=new Array(n);for(;n--;)r[n]=[t[n],e[t[n]]];return r};function h(e){const t=[];return function(e,t){for(let r=0,o=e.length;r<o;r++)if("object"==typeof e[r])for(const o of d(e[r])){var n=s(o,2);const e=n[0];t(n[1],r,e)}else t(e[r],r)}(e,e=>{e&&e.namespaces&&e.namespaces.forEach(e=>{-1===t.indexOf(e)&&t.push(e)})}),t}const m=Object.prototype.hasOwnProperty;function y(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function g(e,t){return e(t={exports:{}},t.exports),t.exports}var b,v=g(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,p=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.placeholder"):60113;function d(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case i:case a:case s:return e;default:switch(e=e&&e.$$typeof){case c:case u:case p:return e;default:return t}}case o:return t}}}t.typeOf=d,t.AsyncMode=l,t.ContextConsumer=c,t.ContextProvider=p,t.Element=r,t.ForwardRef=u,t.Fragment=i,t.Profiler=a,t.Portal=o,t.StrictMode=s,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===l||e===a||e===s||e===f||"object"==typeof e&&null!==e&&("function"==typeof e.then||e.$$typeof===p||e.$$typeof===c||e.$$typeof===u)},t.isAsyncMode=function(e){return d(e)===l},t.isContextConsumer=function(e){return d(e)===c},t.isContextProvider=function(e){return d(e)===p},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return d(e)===u},t.isFragment=function(e){return d(e)===i},t.isProfiler=function(e){return d(e)===a},t.isPortal=function(e){return d(e)===o},t.isStrictMode=function(e){return d(e)===s}});(b=v)&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")&&b.default;v.typeOf,v.AsyncMode,v.ContextConsumer,v.ContextProvider,v.Element,v.ForwardRef,v.Fragment,v.Profiler,v.Portal,v.StrictMode,v.isValidElementType,v.isAsyncMode,v.isContextConsumer,v.isContextProvider,v.isElement,v.isForwardRef,v.isFragment,v.isProfiler,v.isPortal,v.isStrictMode;var O,S=g(function(e){e.exports=v});function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},w={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$=x({},S.ForwardRef,(x(O={},"$$typeof",!0),x(O,"render",!0),O)),N=Object.defineProperty,I=Object.getOwnPropertyNames,P=Object.getOwnPropertySymbols,C=Object.getOwnPropertyDescriptor,E=Object.getPrototypeOf,R=Object.prototype;var T=function e(t,n,r){if("string"!=typeof n){if(R){var o=E(n);o&&o!==R&&e(t,o,r)}var i=I(n);P&&(i=i.concat(P(n)));for(var s=$[t.$$typeof]||j,a=$[n.$$typeof]||j,p=0;p<i.length;++p){var c=i[p];if(!(w[c]||r&&r[c]||a&&a[c]||s&&s[c])){var l=C(n,c);try{N(t,c,l)}catch(e){}}}return t}return t};let M,A={wait:!1,withRef:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",translateFuncName:"t",nsMode:"default",usePureComponent:!1,omitBoundRerender:!0,transEmptyNodeValue:""};function k(e){A=o({},A,e)}function D(){return A}function F(e){M=e}function L(){return M}const _={type:"3rdParty",init(e){k(e.options.react),F(e)}},V=n.createContext();function W(){return function(e){const r=function(e){return class extends t.Component{render(){const t=this.props,r=t.innerRef,s=i(t,["innerRef"]);return r&&(s.ref=r),n.createElement(V.Consumer,null,t=>n.createElement(e,o({},t,s)))}}}(class extends t.Component{render(){const t=this.props,r=t.innerRef,s=i(t,["innerRef"]);r&&(s.ref=r);const a={};let p=this.props.i18nOptions||this.i18nOptions;const c=this.props.i18n||L();if(!p){const e=Object.keys(A).reduce((e,t)=>(this.props[t]&&(e[t]=this.props[t]),e),{});p=o({},D(),c&&c.options&&c.options.react,e),this.i18nOptions=p}return c&&(a.i18n=c,a.t=c.t.bind(c),a.lng=c.language,a.i18nOptions=p),n.createElement(e,o({},a,s))}});var s;return r.WrappedComponent=e,r.displayName=`WithMergedOptions(${s=e,s.displayName||s.name||"Component"})`,T(r,e)}}let K=!1;const z=W()(class extends t.Component{constructor(e){if(super(e),!e.i18n)return this.state={i18nLoadedAt:null,ready:!1},c("You will need pass in an i18next instance either by props, using I18nextProvider or by using i18nextReactModule. Learn more https://react.i18next.com/components/overview#getting-the-i-18-n-function-into-the-flow");if("function"==typeof e.i18n.then)return this.state={i18nLoadedAt:null,ready:!1},c("Detected a promise instead of an i18next instance. Probably you passed the return value of the i18next.init() function, this is not possible anymore with v13 of i18next. Just pass in the i18next instance directly.");f(e),e.i18n.options&&e.i18n.options.isInitialSSR&&(e.i18nOptions.wait=!1);const t=this.getNamespaces();e.reportNS&&t.forEach(e.reportNS);const n=e.i18n.languages&&e.i18n.languages[0],r=!!n&&t.every(t=>e.i18n.hasResourceBundle(n,t));this.state={i18nLoadedAt:null,ready:r},this.t=this.getI18nTranslate(),this.onI18nChanged=this.onI18nChanged.bind(this),this.getI18nTranslate=this.getI18nTranslate.bind(this),this.namespaces=this.getNamespaces.bind(this)}componentDidMount(){this.loadNamespaces()}componentDidUpdate(e){this.props.ns&&e.ns!==this.props.ns&&this.loadNamespaces()}componentWillUnmount(){const e=this.props,t=e.i18n,n=e.i18nOptions;this.mounted=!1,this.onI18nChanged&&(n.bindI18n&&n.bindI18n.split(" ").forEach(e=>t.off(e,this.onI18nChanged)),n.bindStore&&n.bindStore.split(" ").forEach(e=>t.store&&t.store.off(e,this.onI18nChanged)))}onI18nChanged(){const e=this.props.i18nOptions,t=this.state.ready;this.mounted&&(!t&&e.omitBoundRerender||(this.t=this.getI18nTranslate(),this.setState({i18nLoadedAt:new Date})))}getI18nTranslate(){const e=this.props,t=e.i18n,n=e.i18nOptions,r=this.getNamespaces();return t.getFixedT(null,"fallback"===n.nsMode?r:r&&r.length?r[0]:"translation")}getNamespaces(){const e=this.props,t=e.i18n,n=e.ns,r=e.defaultNS,o="function"==typeof n?n(this.props):n||r||t.options&&t.options.defaultNS;return"string"==typeof o?[o]:o||[]}loadNamespaces(){const e=this.props,t=e.i18n,n=e.i18nOptions,r=this.state.ready,o=()=>{n.bindI18n&&t&&t.on(n.bindI18n,this.onI18nChanged),n.bindStore&&t.store&&t.store.on(n.bindStore,this.onI18nChanged)};this.mounted=!0,t.loadNamespaces(this.getNamespaces(),()=>{const e=()=>{this.mounted&&!r&&this.setState({ready:!0},()=>{n.wait||this.onI18nChanged()}),n.wait&&this.mounted&&o()};if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},1e3),e()};t.on("initialized",n)}}),n.wait||o()}render(){const e=this.props,t=e.children,r=e.i18n,o=e.defaultNS,i=e.reportNS,s=e.i18nOptions,a=(this.state||{ready:!1}).ready,p=this.t;return!a&&s.wait?null:(r.options&&r.options.isInitialSSR&&!K&&(K=!0,setTimeout(()=>{delete r.options.isInitialSSR},100)),n.createElement(V.Provider,{value:{i18n:r,t:p,defaultNS:o,reportNS:i,lng:r&&r.language}},t(this.t,{i18n:r,t:p,lng:r.language,ready:a})))}}),B=z;function H(e,r={}){return function(s){const a=W()(class extends t.Component{shouldComponentUpdate(e){return!this.props.i18nOptions.usePureComponent&&!r.usePureComponent||!function(e,t){if(y(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++)if(!m.call(t,n[r])||!y(e[n[r]],t[n[r]]))return!1;return!0}(this.props,e)}render(){const t=this.props,a=t.namespaces,p=o({},t.i18nOptions,r),c={};return p.innerRef&&(c.ref=p.innerRef),n.createElement(z,o({ns:a||e},this.props,{i18nOptions:Object.keys(p).length>0?p:null}),(e,t)=>{let r=t.ready,a=i(t,["ready"]);return n.createElement(s,o({tReady:r},this.props,c,a))})}});var p;return a.WrappedComponent=s,a.displayName=`LoadNamespace(${p=s,p.displayName||p.name||"Component"})`,a.namespaces=e,T(a,s)}}H.setDefaults=k,H.setI18n=F;const J=H;var U={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},q=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,Y=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,G=Object.create?Object.create(null):{};function Q(e,t,n,r,o){var i=t.indexOf("<",r),s=t.slice(r,-1===i?void 0:i);/^\s*$/.test(s)&&(s=" "),(!o&&i>-1&&n+e.length>=0||" "!==s)&&e.push({type:"text",content:s})}function X(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(X,"")+"</"+t.name+">"}}var Z={parse:function(e,t){t||(t={}),t.components||(t.components=G);var n,r=[],o=-1,i=[],s={},a=!1;return e.replace(Y,function(p,c){if(a){if(p!=="</"+n.name+">")return;a=!1}var l,u="/"!==p.charAt(1),f=0===p.indexOf("\x3c!--"),d=c+p.length,h=e.charAt(d);u&&!f&&(o++,"tag"===(n=function(e){var t,n=0,r=!0,o={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return e.replace(q,function(i){if("="===i)return r=!0,void n++;r?0===n?((U[i]||"/"===e.charAt(e.length-2))&&(o.voidElement=!0),o.name=i):(o.attrs[t]=i.replace(/^['"]|['"]$/g,""),t=void 0):(t&&(o.attrs[t]=t),t=i),n++,r=!1}),o}(p)).type&&t.components[n.name]&&(n.type="component",a=!0),n.voidElement||a||!h||"<"===h||Q(n.children,e,o,d,t.ignoreWhitespace),s[n.tagName]=n,0===o&&r.push(n),(l=i[o-1])&&l.children.push(n),i[o]=n),(f||!u||n.voidElement)&&(f||o--,!a&&"<"!==h&&h&&Q(l=-1===o?r:i[o].children,e,o,d,t.ignoreWhitespace))}),!r.length&&e.length&&Q(r,e,0,0,t.ignoreWhitespace),r},stringify:function(e){return e.reduce(function(e,t){return e+X("",t)},"")}};function ee(e){return e&&(e.children||e.props&&e.props.children)}function te(e){return e&&e.children?e.children:e.props&&e.props.children}function ne(e,t,r){if(""===t)return[];if(!e)return[t];const i={};!function e(t){"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),t.forEach(t=>{"string"!=typeof t&&(ee(t)?e(te(t)):"object"!=typeof t||n.isValidElement(t)||Object.assign(i,t))})}(e),t=r.services.interpolator.interpolate(t,i,r.language);const s=function e(t,r){return"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),"[object Array]"!==Object.prototype.toString.call(r)&&(r=[r]),r.reduce((r,i,s)=>{if("tag"===i.type){const a=t[parseInt(i.name,10)]||{},p=n.isValidElement(a);if("string"==typeof a)r.push(a);else if(ee(a)){const t=e(te(a),i.children);a.dummy&&(a.children=t),r.push(n.cloneElement(a,o({},a.props,{key:s}),t))}else if("object"!=typeof a||p)r.push(a);else{const e=i.children[0]?i.children[0].content:null;e&&r.push(e)}}else"text"===i.type&&r.push(i.content);return r},[])}([{dummy:!0,children:e}],Z.parse(`<0>${t}</0>`));return te(s[0])}const re=W()(class extends n.Component{render(){const e=this.props,t=e.children,r=e.count,s=e.parent,p=e.i18nKey,c=e.tOptions,l=e.values,u=e.defaults,f=e.components,d=e.ns,h=e.i18n,m=e.t,y=(e.defaultNS,e.reportNS,e.lng,e.i18nOptions,i(e,["children","count","parent","i18nKey","tOptions","values","defaults","components","ns","i18n","t","defaultNS","reportNS","lng","i18nOptions"])),g=m||h.t.bind(h),b=h.options&&h.options.react||{},v=void 0!==s?s:b.defaultTransParent,O=u||function e(t,r,i){return r?("[object Array]"!==Object.prototype.toString.call(r)&&(r=[r]),r.forEach((r,i)=>{const s=`${i}`;if("string"==typeof r)t=`${t}${r}`;else if(ee(r))t=`${t}<${s}>${e("",te(r),i+1)}</${s}>`;else if(n.isValidElement(r))t=`${t}<${s}></${s}>`;else if("object"==typeof r){const e=o({},r),n=e.format;delete e.format;const i=Object.keys(e);n&&1===i.length?t=`${t}{{${i[0]}, ${n}}}`:1===i.length?t=`${t}{{${i[0]}}}`:a("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",r)}else a("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",r)}),t):""}("",t)||b.transEmptyNodeValue,S=b.hashTransKey,x=p||(S?S(O):O),j=x?g(x,o({},c,l,l?{}:{interpolation:{prefix:"#$?",suffix:"?$#"}},{defaultValue:O,count:r,ns:d})):O;if(b.exposeNamespace){let e="string"==typeof g.ns?g.ns:g.ns[0];p&&h.options&&h.options.nsSeparator&&p.indexOf(h.options.nsSeparator)>-1&&(e=p.split(h.options.nsSeparator)[0]),g.ns&&(y["data-i18next-options"]=JSON.stringify({ns:e}))}return v?n.createElement(v,y,ne(f||t,j,h)):ne(f||t,j,h)}});const oe=W()(class extends t.Component{constructor(e){super(e),process&&process.env}render(){const e=this.props,t=e.i18n,r=e.t,i=e.i18nKey,s=e.options,a=e.className,p=e.style,c=this.props.parent||"span",l=this.props.regexp||t.services.interpolator.regexp,u=this.props.useDangerouslySetInnerHTML||!1,f=this.props.dangerouslySetInnerHTMLPartElement||"span",d=r(i,o({},{},s,{interpolation:{prefix:"#$?",suffix:"?$#"}}));if(!d||"string"!=typeof d)return n.createElement("noscript",null);const h=[];d.split(l).reduce((e,r,o)=>{let i;if(o%2==0){if(0===r.length)return e;i=u?n.createElement(f,{dangerouslySetInnerHTML:{__html:r}}):r}else i=((e,n)=>{if(e.indexOf(t.options.interpolation.formatSeparator)<0)return void 0===n[e]&&t.services.logger.warn(`interpolator: missed to pass in variable ${e} for interpolating ${d}`),n[e];const r=e.split(t.options.interpolation.formatSeparator),o=r.shift().trim(),i=r.join(t.options.interpolation.formatSeparator).trim();return void 0===n[o]&&t.services.logger.warn(`interpolator: missed to pass in variable ${o} for interpolating ${d}`),t.options.interpolation.format(n[o],i,t.language)})(r,this.props);return e.push(i),e},h);const m={};if(t.options.react&&t.options.react.exposeNamespace){let e="string"==typeof r.ns?r.ns:r.ns[0];i&&t.options.nsSeparator&&i.indexOf(t.options.nsSeparator)>-1&&(e=i.split(t.options.nsSeparator)[0]),r.ns&&(m["data-i18next-options"]=JSON.stringify({ns:e}))}return a&&(m.className=a),p&&(m.style=p),n.createElement.apply(this,[c,m].concat(h))}});e.loadNamespaces=function({components:e,i18n:t}){const n=h(e);return new Promise(e=>{t.loadNamespaces(n,e)})},e.withNamespaces=H,e.translate=J,e.NamespacesConsumer=z,e.I18n=B,e.Trans=re,e.I18nextProvider=class extends t.Component{constructor(e){super(e),f(e,!0)}render(){const e=this.props,t=e.children,r=e.i18n,o=e.defaultNS,i=e.reportNS;return n.createElement(V.Provider,{value:{i18n:r,defaultNS:o,reportNS:i,lng:r&&r.language,t:r&&r.t.bind(r)}},t)}},e.withI18n=W,e.I18nContext=V,e.reactI18nextModule=_,e.setDefaults=k,e.getDefaults=D,e.setI18n=F,e.getI18n=L,e.Interpolate=oe,Object.defineProperty(e,"__esModule",{value:!0})});
